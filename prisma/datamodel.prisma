type Post {
  id: ID! @unique
  createdAt: DateTime!
  updatedAt: DateTime!
  published: Boolean! @default(value: "false")
  title: String!
  content: String
  author: User!
}

enum NoteType {
  NOTE
  CASE_STUDY
}

type Note {
  id: ID! @unique
  author: User! @relation(name: "NotesByUser")
  text: String!
  subject: Subject!
  comments: [Comment!]
  type: NoteType!
  description: String
  upvotes: [User!] @relation(name: "UpvotedNotes")
}

type Comment {
  id: ID! @unique
  author: User! @relation(name: "CommentsByUser")
  note: Note!
  text: String!
  replies: [Comment!]
  upvotes: [User!] @relation(name: "UpvotedComments")
}

type Subject {
  id: ID! @unique
  code: String! @unique
  name: String!
  description: String!
  faculty: [User!] @relation(name: "SubjectsByTeacher")
  students: [User!] @relation(name: "SubjectsByStudent")
  subjectInfos: [SubjectInfo!]
  prerequisites: [Subject!]
  notes: [Note!]
}

type SubjectInfo {
  title: String!
  subtitle: String
  text: String!
}

enum Role {
  USER
  ADMIN
}

type User {
  id: ID! @unique
  password: String!
  email: String! @unique
  firstName: String
  lastName: String
  neptun: String! @unique
  role: Role!
}
