# Migration `20191028194721-add-rejected-at-to-suggestion`

This migration has been generated by kiralybalint <balint.kiraly@cogito.study> at 10/28/2019, 7:47:21 PM.
You can check out the [state of the datamodel](./datamodel.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "public"."Department" (
  "createdAt" timestamp(3) NOT NULL DEFAULT '1970-01-01 00:00:00' ,
  "deletedAt" timestamp(3)   ,
  "description" text NOT NULL DEFAULT '' ,
  "id" text NOT NULL  ,
  "name" text NOT NULL DEFAULT '' ,
  "updatedAt" timestamp(3) NOT NULL DEFAULT '1970-01-01 00:00:00' ,
  PRIMARY KEY ("id")
);

CREATE TABLE "public"."Institute" (
  "createdAt" timestamp(3) NOT NULL DEFAULT '1970-01-01 00:00:00' ,
  "deletedAt" timestamp(3)   ,
  "id" text NOT NULL  ,
  "name" text NOT NULL DEFAULT '' ,
  "updatedAt" timestamp(3) NOT NULL DEFAULT '1970-01-01 00:00:00' ,
  PRIMARY KEY ("id")
);

CREATE TABLE "public"."Language" (
  "code" text NOT NULL DEFAULT '' ,
  "id" text NOT NULL  ,
  "name" text NOT NULL DEFAULT '' ,
  PRIMARY KEY ("id")
);

CREATE TABLE "public"."Note" (
  "content" text NOT NULL DEFAULT '' ,
  "contentHTML" text NOT NULL DEFAULT '' ,
  "createdAt" timestamp(3) NOT NULL DEFAULT '1970-01-01 00:00:00' ,
  "deletedAt" timestamp(3)   ,
  "description" text   ,
  "id" text NOT NULL  ,
  "noteCategory" text NOT NULL DEFAULT 'NOTE' ,
  "number" integer NOT NULL DEFAULT 0 ,
  "title" text NOT NULL DEFAULT '' ,
  "updatedAt" timestamp(3) NOT NULL DEFAULT '1970-01-01 00:00:00' ,
  PRIMARY KEY ("id")
);

CREATE TABLE "public"."NoteComment" (
  "content" text NOT NULL DEFAULT '' ,
  "createdAt" timestamp(3) NOT NULL DEFAULT '1970-01-01 00:00:00' ,
  "deletedAt" timestamp(3)   ,
  "id" text NOT NULL  ,
  "updatedAt" timestamp(3) NOT NULL DEFAULT '1970-01-01 00:00:00' ,
  PRIMARY KEY ("id")
);

CREATE TABLE "public"."NoteCommentThread" (
  "createdAt" timestamp(3) NOT NULL DEFAULT '1970-01-01 00:00:00' ,
  "deletedAt" timestamp(3)   ,
  "id" text NOT NULL  ,
  "position" text NOT NULL DEFAULT '' ,
  "updatedAt" timestamp(3) NOT NULL DEFAULT '1970-01-01 00:00:00' ,
  PRIMARY KEY ("id")
);

CREATE TABLE "public"."NoteHighlight" (
  "createdAt" timestamp(3) NOT NULL DEFAULT '1970-01-01 00:00:00' ,
  "deletedAt" timestamp(3)   ,
  "id" text NOT NULL  ,
  "position" text NOT NULL DEFAULT '' ,
  "updatedAt" timestamp(3) NOT NULL DEFAULT '1970-01-01 00:00:00' ,
  PRIMARY KEY ("id")
);

CREATE TABLE "public"."PasswordToken" (
  "createdAt" timestamp(3) NOT NULL DEFAULT '1970-01-01 00:00:00' ,
  "deletedAt" timestamp(3)   ,
  "id" text NOT NULL  ,
  "token" text NOT NULL DEFAULT '' ,
  "updatedAt" timestamp(3) NOT NULL DEFAULT '1970-01-01 00:00:00' ,
  PRIMARY KEY ("id")
);

CREATE TABLE "public"."Subject" (
  "code" text NOT NULL DEFAULT '' ,
  "createdAt" timestamp(3) NOT NULL DEFAULT '1970-01-01 00:00:00' ,
  "deletedAt" timestamp(3)   ,
  "description" text NOT NULL DEFAULT '' ,
  "id" text NOT NULL  ,
  "name" text NOT NULL DEFAULT '' ,
  "updatedAt" timestamp(3) NOT NULL DEFAULT '1970-01-01 00:00:00' ,
  PRIMARY KEY ("id")
);

CREATE TABLE "public"."SubjectInformation" (
  "content" text NOT NULL DEFAULT '' ,
  "createdAt" timestamp(3) NOT NULL DEFAULT '1970-01-01 00:00:00' ,
  "deletedAt" timestamp(3)   ,
  "id" text NOT NULL  ,
  "subtitle" text   ,
  "title" text NOT NULL DEFAULT '' ,
  "updatedAt" timestamp(3) NOT NULL DEFAULT '1970-01-01 00:00:00' ,
  PRIMARY KEY ("id")
);

CREATE TABLE "public"."Suggestion" (
  "approvedAt" timestamp(3)   ,
  "createdAt" timestamp(3) NOT NULL DEFAULT '1970-01-01 00:00:00' ,
  "deletedAt" timestamp(3)   ,
  "delta" text NOT NULL DEFAULT '' ,
  "id" text NOT NULL  ,
  "rejectedAt" timestamp(3)   ,
  "updatedAt" timestamp(3) NOT NULL DEFAULT '1970-01-01 00:00:00' ,
  PRIMARY KEY ("id")
);

CREATE TABLE "public"."User" (
  "createdAt" timestamp(3) NOT NULL DEFAULT '1970-01-01 00:00:00' ,
  "deletedAt" timestamp(3)   ,
  "email" text NOT NULL DEFAULT '' ,
  "firstName" text NOT NULL DEFAULT '' ,
  "id" text NOT NULL  ,
  "identifier" text NOT NULL DEFAULT '' ,
  "isActive" boolean NOT NULL DEFAULT false ,
  "lastName" text NOT NULL DEFAULT '' ,
  "password" text NOT NULL DEFAULT '' ,
  "phoneNumber" text   ,
  "profilePictureURL" text   ,
  "updatedAt" timestamp(3) NOT NULL DEFAULT '1970-01-01 00:00:00' ,
  PRIMARY KEY ("id")
);

CREATE TABLE "public"."ActivationToken" (
  "createdAt" timestamp(3) NOT NULL DEFAULT '1970-01-01 00:00:00' ,
  "id" text NOT NULL  ,
  "token" text NOT NULL DEFAULT '' ,
  PRIMARY KEY ("id")
);

CREATE TABLE "public"."ResetPasswordToken" (
  "createdAt" timestamp(3) NOT NULL DEFAULT '1970-01-01 00:00:00' ,
  "email" text NOT NULL  ,
  "token" text NOT NULL DEFAULT '' ,
  PRIMARY KEY ("email")
);

CREATE TABLE "public"."UserRole" (
  "createdAt" timestamp(3) NOT NULL DEFAULT '1970-01-01 00:00:00' ,
  "deletedAt" timestamp(3)   ,
  "id" text NOT NULL  ,
  "name" text NOT NULL DEFAULT '' ,
  "type" text NOT NULL DEFAULT 'USER' ,
  "updatedAt" timestamp(3) NOT NULL DEFAULT '1970-01-01 00:00:00' ,
  PRIMARY KEY ("id")
);

CREATE TABLE "public"."DepartmentPermission" (
  "createdAt" timestamp(3) NOT NULL DEFAULT '1970-01-01 00:00:00' ,
  "deletedAt" timestamp(3)   ,
  "id" text NOT NULL  ,
  "type" text NOT NULL DEFAULT 'UPDATE_DEPARTMENT' ,
  "updatedAt" timestamp(3) NOT NULL DEFAULT '1970-01-01 00:00:00' ,
  PRIMARY KEY ("id")
);

CREATE TABLE "public"."InstitutePermission" (
  "createdAt" timestamp(3) NOT NULL DEFAULT '1970-01-01 00:00:00' ,
  "deletedAt" timestamp(3)   ,
  "id" text NOT NULL  ,
  "type" text NOT NULL DEFAULT 'UPDATE_INSTITUTE' ,
  "updatedAt" timestamp(3) NOT NULL DEFAULT '1970-01-01 00:00:00' ,
  PRIMARY KEY ("id")
);

CREATE TABLE "public"."NoteCommentPermission" (
  "createdAt" timestamp(3) NOT NULL DEFAULT '1970-01-01 00:00:00' ,
  "deletedAt" timestamp(3)   ,
  "id" text NOT NULL  ,
  "type" text NOT NULL DEFAULT 'UPDATE_NOTE_COMMENT' ,
  "updatedAt" timestamp(3) NOT NULL DEFAULT '1970-01-01 00:00:00' ,
  PRIMARY KEY ("id")
);

CREATE TABLE "public"."NoteCommentThreadPermission" (
  "createdAt" timestamp(3) NOT NULL DEFAULT '1970-01-01 00:00:00' ,
  "deletedAt" timestamp(3)   ,
  "id" text NOT NULL  ,
  "type" text NOT NULL DEFAULT 'DELETE_NOTE_COMMENT_THREAD' ,
  "updatedAt" timestamp(3) NOT NULL DEFAULT '1970-01-01 00:00:00' ,
  PRIMARY KEY ("id")
);

CREATE TABLE "public"."NoteHighlightPermission" (
  "createdAt" timestamp(3) NOT NULL DEFAULT '1970-01-01 00:00:00' ,
  "deletedAt" timestamp(3)   ,
  "id" text NOT NULL  ,
  "type" text NOT NULL DEFAULT 'UPDATE_NOTE_HIGHLIGHT' ,
  "updatedAt" timestamp(3) NOT NULL DEFAULT '1970-01-01 00:00:00' ,
  PRIMARY KEY ("id")
);

CREATE TABLE "public"."NotePermission" (
  "createdAt" timestamp(3) NOT NULL DEFAULT '1970-01-01 00:00:00' ,
  "deletedAt" timestamp(3)   ,
  "id" text NOT NULL  ,
  "type" text NOT NULL DEFAULT 'UPDATE_NOTE' ,
  "updatedAt" timestamp(3) NOT NULL DEFAULT '1970-01-01 00:00:00' ,
  PRIMARY KEY ("id")
);

CREATE TABLE "public"."Permission" (
  "id" text NOT NULL  ,
  PRIMARY KEY ("id")
);

CREATE TABLE "public"."SubjectPermission" (
  "createdAt" timestamp(3) NOT NULL DEFAULT '1970-01-01 00:00:00' ,
  "deletedAt" timestamp(3)   ,
  "id" text NOT NULL  ,
  "type" text NOT NULL DEFAULT 'UPDATE_SUBJECT' ,
  "updatedAt" timestamp(3) NOT NULL DEFAULT '1970-01-01 00:00:00' ,
  PRIMARY KEY ("id")
);

CREATE TABLE "public"."SubjectInformationPermission" (
  "createdAt" timestamp(3) NOT NULL DEFAULT '1970-01-01 00:00:00' ,
  "deletedAt" timestamp(3)   ,
  "id" text NOT NULL  ,
  "type" text NOT NULL DEFAULT 'UPDATE_SUBJECT_INFORMATION' ,
  "updatedAt" timestamp(3) NOT NULL DEFAULT '1970-01-01 00:00:00' ,
  PRIMARY KEY ("id")
);

CREATE TABLE "public"."SuggestionPermission" (
  "createdAt" timestamp(3) NOT NULL DEFAULT '1970-01-01 00:00:00' ,
  "deletedAt" timestamp(3)   ,
  "id" text NOT NULL  ,
  "type" text NOT NULL DEFAULT 'UPDATE_SUGGESTION' ,
  "updatedAt" timestamp(3) NOT NULL DEFAULT '1970-01-01 00:00:00' ,
  PRIMARY KEY ("id")
);

CREATE TABLE "public"."UserPermission" (
  "createdAt" timestamp(3) NOT NULL DEFAULT '1970-01-01 00:00:00' ,
  "deletedAt" timestamp(3)   ,
  "id" text NOT NULL  ,
  "type" text NOT NULL DEFAULT 'UPDATE_USER' ,
  "updatedAt" timestamp(3) NOT NULL DEFAULT '1970-01-01 00:00:00' ,
  PRIMARY KEY ("id")
);

CREATE TABLE "public"."UserGroup" (
  "id" text NOT NULL  ,
  "name" text NOT NULL DEFAULT '' ,
  PRIMARY KEY ("id")
);

CREATE TABLE "public"."_InstituteUsers" (
  "A" text   REFERENCES "public"."Institute"("id") ON DELETE CASCADE,
  "B" text   REFERENCES "public"."User"("id") ON DELETE CASCADE
);

CREATE TABLE "public"."_NoteAuthors" (
  "A" text   REFERENCES "public"."Note"("id") ON DELETE CASCADE,
  "B" text   REFERENCES "public"."User"("id") ON DELETE CASCADE
);

CREATE TABLE "public"."_NoteLikers" (
  "A" text   REFERENCES "public"."Note"("id") ON DELETE CASCADE,
  "B" text   REFERENCES "public"."User"("id") ON DELETE CASCADE
);

CREATE TABLE "public"."_CommentLikers" (
  "A" text   REFERENCES "public"."NoteComment"("id") ON DELETE CASCADE,
  "B" text   REFERENCES "public"."User"("id") ON DELETE CASCADE
);

CREATE TABLE "public"."_SubjectTeachers" (
  "A" text   REFERENCES "public"."Subject"("id") ON DELETE CASCADE,
  "B" text   REFERENCES "public"."User"("id") ON DELETE CASCADE
);

CREATE TABLE "public"."_SubjectStudents" (
  "A" text   REFERENCES "public"."Subject"("id") ON DELETE CASCADE,
  "B" text   REFERENCES "public"."User"("id") ON DELETE CASCADE
);

CREATE TABLE "public"."_SuggestionLikers" (
  "A" text   REFERENCES "public"."Suggestion"("id") ON DELETE CASCADE,
  "B" text   REFERENCES "public"."User"("id") ON DELETE CASCADE
);

CREATE TABLE "public"."_UserGroups" (
  "A" text   REFERENCES "public"."User"("id") ON DELETE CASCADE,
  "B" text   REFERENCES "public"."UserGroup"("id") ON DELETE CASCADE
);

CREATE TABLE "public"."_UserPermissions" (
  "A" text   REFERENCES "public"."Permission"("id") ON DELETE CASCADE,
  "B" text   REFERENCES "public"."User"("id") ON DELETE CASCADE
);

CREATE TABLE "public"."_UserGroupPermissions" (
  "A" text   REFERENCES "public"."Permission"("id") ON DELETE CASCADE,
  "B" text   REFERENCES "public"."UserGroup"("id") ON DELETE CASCADE
);

ALTER TABLE "public"."Department" ADD COLUMN "departmentPermission" text   REFERENCES "public"."DepartmentPermission"("id") ON DELETE SET NULL,
ADD COLUMN "institute" text   REFERENCES "public"."Institute"("id") ON DELETE SET NULL,
ADD COLUMN "leader" text   REFERENCES "public"."User"("id") ON DELETE SET NULL;

ALTER TABLE "public"."Institute" ADD COLUMN "institutePermission" text   REFERENCES "public"."InstitutePermission"("id") ON DELETE SET NULL;

ALTER TABLE "public"."Note" ADD COLUMN "notePermission" text   REFERENCES "public"."NotePermission"("id") ON DELETE SET NULL,
ADD COLUMN "subject" text   REFERENCES "public"."Subject"("id") ON DELETE SET NULL;

ALTER TABLE "public"."NoteComment" ADD COLUMN "author" text   REFERENCES "public"."User"("id") ON DELETE SET NULL,
ADD COLUMN "noteCommentPermission" text   REFERENCES "public"."NoteCommentPermission"("id") ON DELETE SET NULL,
ADD COLUMN "thread" text   REFERENCES "public"."NoteCommentThread"("id") ON DELETE SET NULL,
ADD COLUMN "threadReply" text   REFERENCES "public"."NoteCommentThread"("id") ON DELETE SET NULL;

ALTER TABLE "public"."NoteCommentThread" ADD COLUMN "note" text   REFERENCES "public"."Note"("id") ON DELETE SET NULL,
ADD COLUMN "noteCommentThreadPermission" text   REFERENCES "public"."NoteCommentThreadPermission"("id") ON DELETE SET NULL;

ALTER TABLE "public"."NoteHighlight" ADD COLUMN "note" text   REFERENCES "public"."Note"("id") ON DELETE SET NULL,
ADD COLUMN "noteHighlightPermission" text   REFERENCES "public"."NoteHighlightPermission"("id") ON DELETE SET NULL,
ADD COLUMN "user" text   REFERENCES "public"."User"("id") ON DELETE SET NULL;

ALTER TABLE "public"."PasswordToken" ADD COLUMN "user" text   REFERENCES "public"."User"("id") ON DELETE SET NULL;

ALTER TABLE "public"."Subject" ADD COLUMN "department" text   REFERENCES "public"."Department"("id") ON DELETE SET NULL,
ADD COLUMN "language" text   REFERENCES "public"."Language"("id") ON DELETE SET NULL,
ADD COLUMN "subjectPermission" text   REFERENCES "public"."SubjectPermission"("id") ON DELETE SET NULL;

ALTER TABLE "public"."SubjectInformation" ADD COLUMN "subject" text   REFERENCES "public"."Subject"("id") ON DELETE SET NULL,
ADD COLUMN "subjectInformationPermission" text   REFERENCES "public"."SubjectInformationPermission"("id") ON DELETE SET NULL;

ALTER TABLE "public"."Suggestion" ADD COLUMN "approvedBy" text   REFERENCES "public"."User"("id") ON DELETE SET NULL,
ADD COLUMN "author" text   REFERENCES "public"."User"("id") ON DELETE SET NULL,
ADD COLUMN "note" text   REFERENCES "public"."Note"("id") ON DELETE SET NULL,
ADD COLUMN "suggestionPermission" text   REFERENCES "public"."SuggestionPermission"("id") ON DELETE SET NULL;

ALTER TABLE "public"."User" ADD COLUMN "preferredLanguage" text   REFERENCES "public"."Language"("id") ON DELETE SET NULL,
ADD COLUMN "role" text   REFERENCES "public"."UserRole"("id") ON DELETE SET NULL,
ADD COLUMN "userPermission" text   REFERENCES "public"."UserPermission"("id") ON DELETE SET NULL;

ALTER TABLE "public"."ActivationToken" ADD COLUMN "user" text   REFERENCES "public"."User"("id") ON DELETE SET NULL;

ALTER TABLE "public"."ResetPasswordToken" ADD COLUMN "user" text   REFERENCES "public"."User"("id") ON DELETE SET NULL;

ALTER TABLE "public"."DepartmentPermission" ADD COLUMN "permission" text   REFERENCES "public"."Permission"("id") ON DELETE SET NULL;

ALTER TABLE "public"."InstitutePermission" ADD COLUMN "permission" text   REFERENCES "public"."Permission"("id") ON DELETE SET NULL;

ALTER TABLE "public"."NoteCommentPermission" ADD COLUMN "permission" text   REFERENCES "public"."Permission"("id") ON DELETE SET NULL;

ALTER TABLE "public"."NoteCommentThreadPermission" ADD COLUMN "permission" text   REFERENCES "public"."Permission"("id") ON DELETE SET NULL;

ALTER TABLE "public"."NoteHighlightPermission" ADD COLUMN "permission" text   REFERENCES "public"."Permission"("id") ON DELETE SET NULL;

ALTER TABLE "public"."NotePermission" ADD COLUMN "permission" text   REFERENCES "public"."Permission"("id") ON DELETE SET NULL;

ALTER TABLE "public"."Permission" ADD COLUMN "subjectInformationPermission" text   REFERENCES "public"."SubjectInformationPermission"("id") ON DELETE SET NULL,
ADD COLUMN "subjectPermission" text   REFERENCES "public"."SubjectPermission"("id") ON DELETE SET NULL,
ADD COLUMN "suggestionPermission" text   REFERENCES "public"."SuggestionPermission"("id") ON DELETE SET NULL,
ADD COLUMN "userPermission" text   REFERENCES "public"."UserPermission"("id") ON DELETE SET NULL;

CREATE UNIQUE INDEX "Department.id" ON "public"."Department"("id")

CREATE UNIQUE INDEX "Institute.id" ON "public"."Institute"("id")

CREATE UNIQUE INDEX "Language.id" ON "public"."Language"("id")

CREATE UNIQUE INDEX "Language.code" ON "public"."Language"("code")

CREATE UNIQUE INDEX "Note.id" ON "public"."Note"("id")

CREATE UNIQUE INDEX "NoteComment.id" ON "public"."NoteComment"("id")

CREATE UNIQUE INDEX "NoteCommentThread.id" ON "public"."NoteCommentThread"("id")

CREATE UNIQUE INDEX "NoteHighlight.id" ON "public"."NoteHighlight"("id")

CREATE UNIQUE INDEX "PasswordToken.id" ON "public"."PasswordToken"("id")

CREATE UNIQUE INDEX "PasswordToken.token" ON "public"."PasswordToken"("token")

CREATE UNIQUE INDEX "Subject.id" ON "public"."Subject"("id")

CREATE UNIQUE INDEX "Subject.code" ON "public"."Subject"("code")

CREATE UNIQUE INDEX "SubjectInformation.id" ON "public"."SubjectInformation"("id")

CREATE UNIQUE INDEX "Suggestion.id" ON "public"."Suggestion"("id")

CREATE UNIQUE INDEX "User.id" ON "public"."User"("id")

CREATE UNIQUE INDEX "User.email" ON "public"."User"("email")

CREATE UNIQUE INDEX "ActivationToken.id" ON "public"."ActivationToken"("id")

CREATE UNIQUE INDEX "ActivationToken.token" ON "public"."ActivationToken"("token")

CREATE UNIQUE INDEX "ResetPasswordToken.email" ON "public"."ResetPasswordToken"("email")

CREATE UNIQUE INDEX "ResetPasswordToken.token" ON "public"."ResetPasswordToken"("token")

CREATE UNIQUE INDEX "UserRole.id" ON "public"."UserRole"("id")

CREATE UNIQUE INDEX "DepartmentPermission.id" ON "public"."DepartmentPermission"("id")

CREATE UNIQUE INDEX "InstitutePermission.id" ON "public"."InstitutePermission"("id")

CREATE UNIQUE INDEX "NoteCommentPermission.id" ON "public"."NoteCommentPermission"("id")

CREATE UNIQUE INDEX "NoteCommentThreadPermission.id" ON "public"."NoteCommentThreadPermission"("id")

CREATE UNIQUE INDEX "NoteHighlightPermission.id" ON "public"."NoteHighlightPermission"("id")

CREATE UNIQUE INDEX "NotePermission.id" ON "public"."NotePermission"("id")

CREATE UNIQUE INDEX "Permission.id" ON "public"."Permission"("id")

CREATE UNIQUE INDEX "SubjectPermission.id" ON "public"."SubjectPermission"("id")

CREATE UNIQUE INDEX "SubjectInformationPermission.id" ON "public"."SubjectInformationPermission"("id")

CREATE UNIQUE INDEX "SuggestionPermission.id" ON "public"."SuggestionPermission"("id")

CREATE UNIQUE INDEX "UserPermission.id" ON "public"."UserPermission"("id")

CREATE UNIQUE INDEX "UserGroup.id" ON "public"."UserGroup"("id")

CREATE UNIQUE INDEX "_InstituteUsers_AB_unique" ON "public"."_InstituteUsers"("A","B")

CREATE UNIQUE INDEX "_NoteAuthors_AB_unique" ON "public"."_NoteAuthors"("A","B")

CREATE UNIQUE INDEX "_NoteLikers_AB_unique" ON "public"."_NoteLikers"("A","B")

CREATE UNIQUE INDEX "_CommentLikers_AB_unique" ON "public"."_CommentLikers"("A","B")

CREATE UNIQUE INDEX "_SubjectTeachers_AB_unique" ON "public"."_SubjectTeachers"("A","B")

CREATE UNIQUE INDEX "_SubjectStudents_AB_unique" ON "public"."_SubjectStudents"("A","B")

CREATE UNIQUE INDEX "_SuggestionLikers_AB_unique" ON "public"."_SuggestionLikers"("A","B")

CREATE UNIQUE INDEX "_UserGroups_AB_unique" ON "public"."_UserGroups"("A","B")

CREATE UNIQUE INDEX "_UserPermissions_AB_unique" ON "public"."_UserPermissions"("A","B")

CREATE UNIQUE INDEX "_UserGroupPermissions_AB_unique" ON "public"."_UserGroupPermissions"("A","B")
```

## Changes

```diff
diff --git datamodel.mdl datamodel.mdl
migration 20191022170943-fix-schema..20191028194721-add-rejected-at-to-suggestion
--- datamodel.dml
+++ datamodel.dml
@@ -143,8 +143,9 @@
 model Suggestion {
   id         String    @default(cuid()) @id @unique
   delta      String
   approvedAt DateTime?
+  rejectedAt DateTime?
   likers     User[]    @relation(name: "SuggestionLikers")
   approvedBy User?     @relation(name: "SuggestionApprovedBy")
   note       Note      @relation(name: "NoteSuggestions")
   author     User      @relation(name: "SuggestionAuthor")
```

## Photon Usage

You can use a specific Photon built for this migration (20191028194721-add-rejected-at-to-suggestion)
in your `before` or `after` migration script like this:

```ts
import Photon from '@generated/photon/20191028194721-add-rejected-at-to-suggestion'

const photon = new Photon()

async function main() {
  const result = await photon.users()
  console.dir(result, { depth: null })
}

main()

```
