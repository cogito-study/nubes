# Migration `20191108151902-add-position-to-users`

This migration has been generated by kiralybalint <balint.kiraly@cogito.study> at 11/8/2019, 3:19:02 PM.
You can check out the [state of the datamodel](./datamodel.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."User" ADD COLUMN "position" text   ;
```

## Changes

```diff
diff --git datamodel.mdl datamodel.mdl
migration 20191029100349-fix-permissions..20191108151902-add-position-to-users
--- datamodel.dml
+++ datamodel.dml
@@ -171,8 +171,9 @@
   firstName           String
   lastName            String
   phoneNumber         String?
   identifier          String
+  position            String?
   activationToken     ActivationToken?
   ResetPasswordToken  ResetPasswordToken?
   isActive            Boolean             @default(false)
   role                UserRole            @relation(name: "UserRole")
@@ -231,8 +232,9 @@
 }
 enum DepartmentPermissionType {
   UPDATE_DEPARTMENT
+  READ_DEPARTMENT
   DELETE_DEPARTMENT
   CREATE_SUBJECT
 }
@@ -336,8 +338,9 @@
 enum SubjectPermissionType {
   CREATE_SUBJECT_INFORMATION
   UPDATE_SUBJECT
   DELETE_SUBJECT
+  READ_SUBJECT
   CREATE_NOTE
 }
 model SubjectInformationPermission {
@@ -349,8 +352,9 @@
   deletedAt DateTime?
 }
 enum SubjectInformationPermissionType {
+  READ_SUBJECT_INFORMATION
   UPDATE_SUBJECT_INFORMATION
   DELETE_SUBJECT_INFORMATION
 }
@@ -364,8 +368,9 @@
 }
 enum SuggestionPermissionType {
   UPDATE_SUGGESTION
+  READ_SUGGESTION
   DELETE_SUGGESTION
   APPROVE_SUGGESTION
   REJECT_SUGGESTION
 }
```

## Photon Usage

You can use a specific Photon built for this migration (20191108151902-add-position-to-users)
in your `before` or `after` migration script like this:

```ts
import Photon from '@generated/photon/20191108151902-add-position-to-users'

const photon = new Photon()

async function main() {
  const result = await photon.users()
  console.dir(result, { depth: null })
}

main()

```
